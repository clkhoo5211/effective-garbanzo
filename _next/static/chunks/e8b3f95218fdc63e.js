(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72412,88653,e=>{"use strict";var t=e.i(43476),r=e.i(932),i=e.i(71645),s=e.i(74080);e.i(47167);var a=e.i(31178),l=e.i(47414),n=e.i(74008),o=e.i(21476),c=e.i(72846),d=i,u=e.i(37806);function m(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class f extends d.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,c.isHTMLElement)(e)&&e.offsetWidth||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h({children:e,isPresent:r,anchorX:s,root:a}){let l=(0,d.useId)(),n=(0,d.useRef)(null),o=(0,d.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,d.useContext)(u.MotionConfigContext),h=function(...e){return i.useCallback(function(...e){return t=>{let r=!1,i=e.map(e=>{let i=m(e,t);return r||"function"!=typeof i||(r=!0),i});if(r)return()=>{for(let t=0;t<i.length;t++){let r=i[t];"function"==typeof r?r():m(e[t],null)}}}}(...e),e)}(n,e?.ref);return(0,d.useInsertionEffect)(()=>{let{width:e,height:t,top:i,left:d,right:u}=o.current;if(r||!n.current||!e||!t)return;let m="left"===s?`left: ${d}`:`right: ${u}`;n.current.dataset.motionPopId=l;let f=document.createElement("style");c&&(f.nonce=c);let h=a??document.head;return h.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${m}px !important;
            top: ${i}px !important;
          }
        `),()=>{h.contains(f)&&h.removeChild(f)}},[r]),(0,t.jsx)(f,{isPresent:r,childRef:n,sizeRef:o,children:d.cloneElement(e,{ref:h})})}let p=({children:e,initial:r,isPresent:s,onExitComplete:a,custom:n,presenceAffectsLayout:c,mode:d,anchorX:u,root:m})=>{let f=(0,l.useConstant)(x),p=(0,i.useId)(),g=!0,b=(0,i.useMemo)(()=>(g=!1,{id:p,initial:r,isPresent:s,custom:n,onExitComplete:e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;a&&a()},register:e=>(f.set(e,!1),()=>f.delete(e))}),[s,f,a]);return c&&g&&(b={...b}),(0,i.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[s]),i.useEffect(()=>{s||f.size||!a||a()},[s]),"popLayout"===d&&(e=(0,t.jsx)(h,{isPresent:s,anchorX:u,root:m,children:e})),(0,t.jsx)(o.PresenceContext.Provider,{value:b,children:e})};function x(){return new Map}var g=e.i(64978);let b=e=>e.key||"";function y(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}let w=({children:e,custom:r,initial:s=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:d="sync",propagate:u=!1,anchorX:m="left",root:f})=>{let[h,x]=(0,g.usePresence)(u),w=(0,i.useMemo)(()=>y(e),[e]),v=u&&!h?[]:w.map(b),j=(0,i.useRef)(!0),N=(0,i.useRef)(w),C=(0,l.useConstant)(()=>new Map),[S,R]=(0,i.useState)(w),[I,O]=(0,i.useState)(w);(0,n.useIsomorphicLayoutEffect)(()=>{j.current=!1,N.current=w;for(let e=0;e<I.length;e++){let t=b(I[e]);v.includes(t)?C.delete(t):!0!==C.get(t)&&C.set(t,!1)}},[I,v.length,v.join("-")]);let E=[];if(w!==S){let e=[...w];for(let t=0;t<I.length;t++){let r=I[t],i=b(r);v.includes(i)||(e.splice(t,0,r),E.push(r))}return"wait"===d&&E.length&&(e=E),O(y(e)),R(w),null}let{forceRender:T}=(0,i.useContext)(a.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:I.map(e=>{let i=b(e),a=(!u||!!h)&&(w===I||v.includes(i));return(0,t.jsx)(p,{isPresent:a,initial:(!j.current||!!s)&&void 0,custom:r,presenceAffectsLayout:c,mode:d,root:f,onExitComplete:a?void 0:()=>{if(!C.has(i))return;C.set(i,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(T?.(),O(N.current),u&&x?.(),o&&o())},anchorX:m,children:e},i)})})};e.s(["AnimatePresence",()=>w],88653);var v=e.i(46932),j=e.i(75157);function N(e){let a,l,n,o,c,d,u,m,f=(0,r.c)(19),{open:h,onClose:p,children:x,className:g,disableCloseOnOverlay:b,lockScroll:y,closeOnEsc:N}=e,S=void 0!==b&&b,R=void 0===y||y,I=void 0===N||N,[O,E]=(0,i.useState)(!1);return(f[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{E(!0)},l=[],f[0]=a,f[1]=l):(a=f[0],l=f[1]),(0,i.useEffect)(a,l),f[2]!==R||f[3]!==h?(n=()=>{if(!R||!h)return;let e=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}},o=[R,h],f[2]=R,f[3]=h,f[4]=n,f[5]=o):(n=f[4],o=f[5]),(0,i.useEffect)(n,o),f[6]!==I||f[7]!==p||f[8]!==h?(c=()=>{if(!I||!h)return;let e=e=>{"Escape"===e.key&&p()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},d=[I,p,h],f[6]=I,f[7]=p,f[8]=h,f[9]=c,f[10]=d):(c=f[9],d=f[10]),(0,i.useEffect)(c,d),O)?(f[11]!==x||f[12]!==g||f[13]!==S||f[14]!==p||f[15]!==h?(u=h&&(0,t.jsx)(v.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-white/40 p-4 backdrop-blur-xl",onClick:S?void 0:p,children:(0,t.jsx)(v.motion.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},className:(0,j.cn)("static",g),onClick:C,children:x})}),f[11]=x,f[12]=g,f[13]=S,f[14]=p,f[15]=h,f[16]=u):u=f[16],f[17]!==u?(m=(0,s.createPortal)((0,t.jsx)(w,{children:u}),document.body),f[17]=u,f[18]=m):m=f[18],m):null}function C(e){return e.stopPropagation()}e.s(["DialogModal",()=>N],72412)},97005,e=>{"use strict";function t(e){return new Promise((t,r)=>{let i=new FileReader;i.onload=()=>t(String(i.result||"")),i.onerror=r,i.readAsText(e)})}function r(e){return new Promise((t,r)=>{let i=new FileReader;i.onload=()=>{t(String(i.result||"").replace(/^data:[^;]+;base64,/,""))},i.onerror=r,i.readAsDataURL(e)})}async function i(e){let t=await e.arrayBuffer(),r=new Uint8Array(await crypto.subtle.digest("SHA-256",t)),i="";for(let e=0;e<r.length;e++)i+=r[e].toString(16).padStart(2,"0");return i.slice(0,16)}e.s(["fileToBase64NoPrefix",()=>r,"hashFileSHA256",()=>i,"readFileAsText",()=>t])},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},16393,e=>{e.v([{id:"1764336067650-188e7e4bf33f88",uploadedAt:"2025-11-28T13:21:07.650Z",description:"我自己第一张图片，我自己的头像",images:["/images/pictures/b346636da687740b.webp"]},{id:"1764396655400-4c7115746f45f",uploadedAt:"2025-11-29T06:10:55.400Z",description:"IOS 26 时候，专门生成的壁纸",images:["/images/pictures/25e9f3a783d6002d.webp","/images/pictures/900c05fc5ffbd0cd.webp","/images/pictures/818e2f72bfcd58c4.webp","/images/pictures/e87a7e59c7a06eea.webp","/images/pictures/6c11232a0c6b6dad.webp"]}])},89909,e=>{"use strict";var t=e.i(43476),r=e.i(71645),i=e.i(46932),s=e.i(46696),a=e.i(16393),l=e.i(932);function n(e){let r,s,a,n,o,c,d,u,m,f,h,p,x,g=(0,l.c)(34),{picture:b,onDelete:y,isEditMode:w}=e;if(g[0]!==w||g[1]!==y||g[2]!==b.id||g[3]!==b.image||g[4]!==b.images){f=Symbol.for("react.early_return_sentinel");e:{if(0===(s=b.images&&b.images.length>0?b.images:b.image?[b.image]:[]).length){f=null;break e}r=i.motion.div,g[15]===Symbol.for("react.memo_cache_sentinel")?(c={opacity:0,scale:.9},d={opacity:1,scale:1},g[15]=c,g[16]=d):(c=g[15],d=g[16]),u="card relative flex flex-col gap-3",g[17]!==w||g[18]!==y?(m=w&&(0,t.jsx)("button",{onClick:y,className:"absolute top-3 right-3 rounded-lg px-2 py-1.5 text-xs text-red-400 transition-colors hover:text-red-600",children:"删除"}),g[17]=w,g[18]=y,g[19]=m):m=g[19],a="relative flex h-56 items-center justify-center overflow-visible rounded-xl",n=1===s.length&&(0,t.jsx)("div",{className:"flex max-h-48 max-w-full items-center justify-center rounded-xl border-4 border-white bg-white shadow-xl",children:(0,t.jsx)("img",{src:s[0],alt:b.id,className:"max-h-48 max-w-full rounded-lg object-contain"})}),o=s.length>1&&s.slice(0,3).map((e,r)=>(0,t.jsx)("div",{className:`absolute flex max-h-48 max-w-full items-center justify-center overflow-hidden rounded-xl border-4 border-white bg-white shadow-xl transition-transform ${0===r?"-left-4 -translate-y-2 -rotate-6":1===r?"z-20 rotate-1":"right-0 translate-y-2 rotate-6"}`,children:(0,t.jsx)("img",{src:e,alt:`${b.id}-${r}`,className:"max-h-48 max-w-full rounded-lg object-contain"})},r))}g[0]=w,g[1]=y,g[2]=b.id,g[3]=b.image,g[4]=b.images,g[5]=r,g[6]=s,g[7]=a,g[8]=n,g[9]=o,g[10]=c,g[11]=d,g[12]=u,g[13]=m,g[14]=f}else r=g[5],s=g[6],a=g[7],n=g[8],o=g[9],c=g[10],d=g[11],u=g[12],m=g[13],f=g[14];return f!==Symbol.for("react.early_return_sentinel")?f:(g[20]!==s.length?(h=s.length>3&&(0,t.jsxs)("div",{className:"absolute right-4 -bottom-2 rounded-full bg-black/70 px-3 py-1 text-xs text-white shadow-lg",children:["共 ",s.length," 张"]}),g[20]=s.length,g[21]=h):h=g[21],g[22]!==a||g[23]!==n||g[24]!==o||g[25]!==h?(p=(0,t.jsxs)("div",{className:a,children:[n,o,h]}),g[22]=a,g[23]=n,g[24]=o,g[25]=h,g[26]=p):p=g[26],g[27]!==r||g[28]!==p||g[29]!==c||g[30]!==d||g[31]!==u||g[32]!==m?(x=(0,t.jsxs)(r,{initial:c,whileInView:d,className:u,children:[m,p]}),g[27]=r,g[28]=p,g[29]=c,g[30]=d,g[31]=u,g[32]=m,g[33]=x):x=g[33],x)}var o=e.i(7233),c=e.i(72412);function d(e){let i,a,n,d,f,h,p,x,g,b,y,w,v,j,N,C,S=(0,l.c)(33),{onClose:R,onSubmit:I}=e,[O,E]=(0,r.useState)("");S[0]===Symbol.for("react.memo_cache_sentinel")?(i=[],S[0]=i):i=S[0];let[T,k]=(0,r.useState)(i),_=(0,r.useRef)(null);S[1]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{let t=Array.from(e.target.files||[]);if(0===t.length)return;let r=[];for(let e of t){if(!e.type.startsWith("image/"))return void s.toast.error("请选择图片文件");let t=URL.createObjectURL(e);r.push({type:"file",file:e,previewUrl:t})}k(r)},S[1]=a):a=S[1];let G=a;S[2]!==O||S[3]!==T||S[4]!==R||S[5]!==I?(n=()=>{0===T.length?s.toast.error("请至少选择一张图片"):(I({images:T,description:O}),k([]),E(""),R())},S[2]=O,S[3]=T,S[4]=R,S[5]=I,S[6]=n):n=S[6];let U=n;S[7]!==T||S[8]!==R?(d=()=>{T.forEach(m),k([]),E(""),R()},S[7]=T,S[8]=R,S[9]=d):d=S[9];let P=d;return S[10]===Symbol.for("react.memo_cache_sentinel")?(f=(0,t.jsx)("h2",{className:"text-xl font-bold",children:"上传图片"}),h=(0,t.jsx)("label",{className:"text-secondary mb-2 block text-sm font-medium",children:"选择图片（可多选）"}),p=(0,t.jsx)("input",{ref:_,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:G}),S[10]=f,S[11]=h,S[12]=p):(f=S[10],h=S[11],p=S[12]),S[13]!==T?(x=(0,t.jsxs)("div",{children:[h,p,0===T.length?(0,t.jsx)("div",{onClick:()=>_.current?.click(),className:"flex h-32 cursor-pointer items-center justify-center rounded-xl border border-dashed border-gray-300 bg-gray-50 transition-colors hover:bg-gray-100",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(o.Plus,{className:"mx-auto mb-1 h-8 w-8 text-gray-500"}),(0,t.jsx)("p",{className:"text-secondary text-xs",children:"点击选择图片"})]})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"relative flex h-40 items-center justify-center overflow-visible rounded-xl bg-linear-to-br from-gray-50 to-gray-100",children:[T.slice(0,3).map(u),T.length>3&&(0,t.jsxs)("div",{className:"absolute right-4 -bottom-2 rounded-full bg-black/70 px-3 py-1 text-xs text-white shadow-lg",children:["共 ",T.length," 张"]})]}),(0,t.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-secondary text-xs",children:["已选择 ",T.length," 张图片"]}),(0,t.jsx)("button",{type:"button",onClick:()=>_.current?.click(),className:"rounded-lg border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 transition-colors hover:bg-gray-50",children:"继续添加"})]})]})]}),S[13]=T,S[14]=x):x=S[14],S[15]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsx)("label",{className:"text-secondary mb-2 block text-sm font-medium",children:"描述（可选，应用于本次所有图片）"}),S[15]=g):g=S[15],S[16]===Symbol.for("react.memo_cache_sentinel")?(b=e=>E(e.target.value),S[16]=b):b=S[16],S[17]!==O?(y=(0,t.jsxs)("div",{children:[g,(0,t.jsx)("textarea",{value:O,onChange:b,placeholder:"这组图片的说明...",className:"w-full rounded-md border border-gray-300 bg-gray-50 px-3 py-2 text-sm focus:outline-none",rows:3})]}),S[17]=O,S[18]=y):y=S[18],S[19]!==P?(w=(0,t.jsx)("button",{type:"button",onClick:P,className:"flex-1 rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm transition-colors hover:bg-gray-50",children:"取消"}),S[19]=P,S[20]=w):w=S[20],S[21]!==U?(v=(0,t.jsx)("button",{type:"button",onClick:U,className:"brand-btn flex-1 justify-center px-4",children:"确认上传"}),S[21]=U,S[22]=v):v=S[22],S[23]!==w||S[24]!==v?(j=(0,t.jsxs)("div",{className:"mt-4 flex gap-3",children:[w,v]}),S[23]=w,S[24]=v,S[25]=j):j=S[25],S[26]!==y||S[27]!==j||S[28]!==x?(N=(0,t.jsxs)("div",{className:"space-y-4",children:[f,x,y,j]}),S[26]=y,S[27]=j,S[28]=x,S[29]=N):N=S[29],S[30]!==P||S[31]!==N?(C=(0,t.jsx)(c.DialogModal,{open:!0,onClose:P,className:"card w-md max-sm:w-full",children:N}),S[30]=P,S[31]=N,S[32]=C):C=S[32],C}function u(e,r){return"file"===e.type?(0,t.jsx)("div",{className:`absolute h-32 w-44 overflow-hidden rounded-xl border-4 border-white bg-white shadow-xl transition-transform ${0===r?"-left-4 -translate-y-2 -rotate-6":1===r?"z-20 rotate-1":"right-0 translate-y-2 rotate-6"}`,children:(0,t.jsx)("img",{src:e.previewUrl,alt:`preview-${r}`,className:"h-full w-full object-cover"})},r):null}function m(e){"file"===e.type&&URL.revokeObjectURL(e.previewUrl)}var f=e.i(37572),h=e.i(97005),p=e.i(86909),x=e.i(63580),g=e.i(75157);async function b(e){let{pictures:t,imageItems:r}=e,i=await (0,p.getAuthToken)();s.toast.info("正在获取分支信息...");let a=(await (0,f.getRef)(i,x.GITHUB_CONFIG.OWNER,x.GITHUB_CONFIG.REPO,`heads/${x.GITHUB_CONFIG.BRANCH}`)).sha,l=`更新图床列表`;s.toast.info("正在准备文件...");let n=[],o=new Set,c=[...t];if(r&&r.size>0){for(let[e,t]of(s.toast.info("正在上传图片..."),r.entries()))if("file"===t.type){let r=t.hash||await (0,h.hashFileSHA256)(t.file),s=(0,g.getFileExt)(t.file.name),a=`${r}${s}`,l=`/images/pictures/${a}`;if(!o.has(r)){let e=`public/images/pictures/${a}`,s=await (0,h.fileToBase64NoPrefix)(t.file),l=await (0,f.createBlob)(i,x.GITHUB_CONFIG.OWNER,x.GITHUB_CONFIG.REPO,s,"base64");n.push({path:e,mode:"100644",type:"blob",sha:l.sha}),o.add(r)}let[d,u]=e.split("::"),m=Number(u)||0;c=c.map(e=>{if(e.id!==d)return e;let t=(e.images&&e.images.length>0?e.images:e.image?[e.image]:[]).map((e,t)=>t===m?l:e);return{...e,image:void 0,images:t}})}}let d=JSON.stringify(c,null,"	"),u=await (0,f.createBlob)(i,x.GITHUB_CONFIG.OWNER,x.GITHUB_CONFIG.REPO,(0,f.toBase64Utf8)(d),"base64");n.push({path:"src/app/pictures/list.json",mode:"100644",type:"blob",sha:u.sha}),s.toast.info("正在创建文件树...");let m=await (0,f.createTree)(i,x.GITHUB_CONFIG.OWNER,x.GITHUB_CONFIG.REPO,n,a);s.toast.info("正在创建提交...");let b=await (0,f.createCommit)(i,x.GITHUB_CONFIG.OWNER,x.GITHUB_CONFIG.REPO,l,m.sha,[a]);s.toast.info("正在更新分支..."),await (0,f.updateRef)(i,x.GITHUB_CONFIG.OWNER,x.GITHUB_CONFIG.REPO,`heads/${x.GITHUB_CONFIG.BRANCH}`,b.sha),s.toast.success("发布成功！")}var y=e.i(71436),w=e.i(18566);function v(){let[e,l]=(0,r.useState)(a.default),[o,c]=(0,r.useState)(a.default),[u,m]=(0,r.useState)(!1),[f,h]=(0,r.useState)(!1),[p,x]=(0,r.useState)(!1),[g,v]=(0,r.useState)(new Map),j=(0,r.useRef)(null),N=(0,w.useRouter)();console.log("[suni pictures]",e);let{isAuth:C,setPrivateKey:S}=(0,y.useAuthStore)(),R=async e=>{try{let t=await e.text();S(t),await I()}catch(e){console.error("Failed to read private key:",e),s.toast.error("读取密钥文件失败")}},I=async()=>{h(!0);try{await b({pictures:e,imageItems:g}),c(e),v(new Map),m(!1),s.toast.success("保存成功！")}catch(e){console.error("Failed to save:",e),s.toast.error(`保存失败: ${e?.message||"未知错误"}`)}finally{h(!1)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{ref:j,type:"file",accept:".pem",className:"hidden",onChange:async e=>{let t=e.target.files?.[0];t&&await R(t),e.currentTarget&&(e.currentTarget.value="")}}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center px-6 pt-32 pb-12",children:[(0,t.jsx)("div",{className:"grid w-full max-w-[1200px] grid-cols-3 gap-6 max-lg:grid-cols-2 max-sm:grid-cols-1",children:e.map(e=>(0,t.jsx)(n,{picture:e,isEditMode:u,onDelete:()=>{confirm("确定要删除这一组图片吗？")&&(l(t=>t.filter(t=>t.id!==e.id)),v(t=>{let r=new Map(t);for(let t of r.keys())t.startsWith(`${e.id}::`)&&r.delete(t);return r}))}},e.id))}),0===e.length&&(0,t.jsx)("div",{className:"mt-16 text-center text-sm text-gray-500",children:"还没有上传图片，点击右上角「编辑」后即可开始上传。"})]}),(0,t.jsx)(i.motion.div,{initial:{opacity:0,scale:.6},animate:{opacity:1,scale:1},className:"absolute top-4 right-6 flex gap-3 max-sm:hidden",children:u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>N.push("/image-toolbox"),className:"rounded-xl border bg-blue-50 px-4 py-2 text-sm text-blue-700",children:"压缩工具"}),(0,t.jsx)(i.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{l(o),v(new Map),m(!1)},disabled:f,className:"rounded-xl border bg-white/60 px-6 py-2 text-sm",children:"取消"}),(0,t.jsx)(i.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(!0),className:"rounded-xl border bg-white/60 px-6 py-2 text-sm",children:"上传"}),(0,t.jsx)(i.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{C?I():j.current?.click()},disabled:f,className:"brand-btn px-6",children:f?"保存中...":C?"保存":"导入密钥"})]}):(0,t.jsx)(i.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!0),className:"rounded-xl border bg-white/60 px-6 py-2 text-sm backdrop-blur-sm transition-colors hover:bg-white/80",children:"编辑"})}),p&&(0,t.jsx)(d,{onClose:()=>x(!1),onSubmit:({images:e,description:t})=>{let r=new Date().toISOString();if(0===e.length)return void s.toast.error("请至少选择一张图片");let i=`${Date.now()}-${Math.random().toString(16).slice(2)}`,a={id:i,uploadedAt:r,description:t.trim()||void 0,images:e.map(e=>"url"===e.type?e.url:e.previewUrl)},n=new Map(g);e.forEach((e,t)=>{"file"===e.type&&n.set(`${i}::${t}`,e)}),l(e=>[...e,a]),v(n),x(!1)}})]})}e.s(["default",()=>v],89909)}]);